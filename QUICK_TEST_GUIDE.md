# 🧪 快速测试指南

## 系统升级内容

✅ **25题专业问卷**（基于Big Five理论）
✅ **新人格生成系统**（文艺+生活气息并存）
✅ **丰富的生活细节**（6大类、5个场景、4个互动画面）

---

## 测试步骤

### 1. 清除旧缓存 ⚠️ 重要！

**方式一：浏览器控制台**
```
1. 按 F12 打开控制台
2. 进入 Application → Local Storage → http://localhost:3000
3. 找到 "echo-interview-storage" 键
4. 右键 → Delete
5. 刷新页面
```

**方式二：页面按钮**
```
1. 访问 http://localhost:3000/interview
2. 看到右上角"重置访谈"按钮
3. 点击清除缓存
```

### 2. 启动开发服务器

```bash
npm run dev
```

访问：http://localhost:3000

### 3. 开始新访谈

1. 点击"开始访谈"
2. 你会看到 **25个新问题**（而不是之前的12题）

### 4. 观察新问题

你会看到这些新问题类型：

**生活作息：**
- "你的日常作息是？"
- "房间通常是什么状态？"

**社交模式：**
- "社交活动后的感受？"
- "朋友圈/社交媒体发布频率？"

**决策风格：**
- "做计划/决定时的风格？"
- "如何处理待办事项？"

**情绪管理：**
- "遇到突发状况时？"
- "情绪不好时如何调节？"

**开放式问题：**
- "描述一个你理想的周末"
- "最近让你开心的一件小事"

### 5. 完成访谈

- 至少回答20题（系统会验证）
- 点击"完成访谈"
- 自动跳转到生成页面

### 6. 等待生成

**人格生成（约30-60秒）：**
- 使用 DeepSeek-Chat
- 基于25题的回答
- 生成丰富的人格档案

**查看人格描述：**
- 你会看到**更详细的生活细节**
- **更有画面感的描述**
- **文艺与实际并存的风格**

### 7. 生成形象（可选）

点击"生成 TA 的形象"：
- 使用 Pollinations AI（免费）
- 生成3张形象图片

---

## 预期效果

### 旧系统输出示例（12题）
```
默燃 - "在沉默中读懂你的声音"

擅用比喻和隐喻，不急于给建议。
喜欢在深夜发长消息，因为觉得夜晚更适合深度对话。
```

### 新系统输出示例（25题）⭐
```
陈默（小默）- "话不多，但句句在点上"

Big Five:
开放性 7/10 | 尽责性 8/10 | 外向性 4/10 | 
宜人性 7/10 | 神经质 3/10

早晨习惯：
7点的闹钟响起，会赖床5分钟。
起来后先拉开窗帘，让阳光洒进来，
然后慢慢冲杯咖啡，翻翻书或看看新闻，
8点准时出门。

压力应对：
会去跑步或做运动，一个人出一身汗。
不太找人倾诉，更喜欢让身体的疲惫
冲淡心里的焦虑。

你难过时：
不会着急问'怎么了'，会轻声说'我在，你想说就说'。
然后就安静坐在你旁边，偶尔递个纸巾，
像递一份无声的理解。等你准备好了，就听你慢慢说。
或者约你出来，一起走走，让风吹散情绪。

独特细节：
- 口头禅："嗯，有道理，让我想想"
- 小癖好：书按高度排，调料按颜色归类
- 治愈食物：一碗热汤面，冒着腾腾热气
```

---

## 对比观察点

### ✅ 问题更全面
- 旧系统：12题，偏情感和审美
- 新系统：25题，覆盖生活各方面

### ✅ 输出更丰富
- 旧系统：6个字段（name, tagline, keywords等）
- 新系统：多层级结构（Big Five + 生活细节 + 场景 + 互动）

### ✅ 风格更平衡
- 旧系统："如星河般深邃"（过度文艺）
- 新系统："偶尔递个纸巾，像递一份无声的理解"（文艺+实际）

---

## 常见问题

### Q: 看不到新问题？
**A:** 清除浏览器缓存（见步骤1）

### Q: 生成时间很长？
**A:** 新系统生成内容更多，需要30-60秒。请查看控制台日志。

### Q: 报错"至少需要回答20个问题"？
**A:** 这是正常的，新系统要求至少20题（旧系统是10题）

### Q: 看到的还是旧格式输出？
**A:** 这是正常的！前端暂时显示的是简化格式。
完整的新格式数据已经生成，只是前端组件还没升级显示。

---

## 调试日志

打开控制台（F12），你会看到详细日志：

**访谈阶段：**
```
Current Question Index: 0
Current Question ID: q001
Total Questions in Store: 25
```

**生成阶段：**
```
📝 useGeneratePersonality: Starting generation...
📡 Sending POST request to /api/generate-personality...
✅ API Response received: 200
✅ Personality extracted: 陈默
```

---

## 测试检查清单

- [ ] 看到25题新问卷
- [ ] 问题包含生活细节（作息、房间、饮食等）
- [ ] 至少完成20题
- [ ] 成功生成人格描述
- [ ] 描述包含具体生活细节
- [ ] 描述风格既文艺又接地气
- [ ] （可选）生成形象图片

---

## 下一步

如果测试一切正常，下一步可以：

1. **升级前端显示组件**
   - 显示 Big Five 雷达图
   - 显示典型行为场景卡片
   - 显示相处互动画面

2. **优化提示词**
   - 根据实际生成效果微调
   - 调整"文艺vs实际"的平衡

3. **数据分析**
   - 收集用户反馈
   - 分析哪些细节最受欢迎

---

## 🎉 Enjoy Testing!

如有问题，查看：
- `UPGRADE_COMPLETE.md` - 完整升级说明
- `PERSONALITY_SYSTEM_UPGRADE.md` - 技术细节
- `README.md` - 项目总体介绍

